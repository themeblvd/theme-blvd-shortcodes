jQuery(document).ready(function(a){var b={preview:function(o){var n=o.data("type"),s="",k=o.find(".shortcode-preview"),l="",t=k.data("content"),p=k.data("raw"),m=k.data("clean"),r,e;if(p){s+="[raw]<br>"}if(n=="column"){var j=o.find(".column-num").val(),g=o.find(".column-width-"+j+" select").val(),g=g.split("-"),f="",q;for(var h=0;h<j;h++){f="";switch(g[h]){case"grid_3":q="one_fourth";break;case"grid_4":q="one_third";break;case"grid_6":q="one_half";break;case"grid_8":q="two_third";break;case"grid_9":q="three_fourth";break;case"grid_fifth_1":q="one_fifth";break;case"grid_fifth_2":q="two_fifth";break;case"grid_fifth_3":q="three_fifth";break;case"grid_fifth_4":q="four_fifth";break;case"grid_tenth_3":q="three_tenth";break;case"grid_tenth_7":q="seven_tenth";break}f+="["+q;if(h==j-1){f+=" last"}f+="]<br>";f+="Column "+(h+1)+"...<br>";f+="[/"+q+"]<br>";s+=f}s+="[clear]"}else{if(n=="tabs"){var j=o.find('select[name="tabs[num]"]').val(),d=o.find('select[name="tabs[style]"]').val(),c=o.find('select[name="tabs[nav]"]').val();s+='[tabs style="'+d+'" nav="'+c+'"';for(var h=1;h<=j;h++){s+=" tab_"+h+'="Title #'+h+'"'}s+="]<br>";for(var h=1;h<=j;h++){s+="[tab_"+h+"]Tab "+h+"...[/tab_"+h+"]<br>"}s+="[/tabs]"}else{if(n=="accordion"){var j=o.find('select[name="accordion[num]"]').val();s+="[accordion]<br>";for(var h=1;h<=j;h++){s+='[toggle title="Toggle #'+h+'"]Content of toggle #'+h+".[/toggle]<br>"}s+="[/accordion]"}else{s+="["+n+" ";o.find(".of-input, .of-radio-img-radio").each(function(){if(a(this).hasClass("of-radio-img-radio")&&!a(this).prop("checked")){return}r=a(this).attr("id");e=a(this).val();if(a(this).hasClass("of-radio-img-radio")){r=r.replace(new RegExp("_"+e,"g"),"")}if(e){if((n=="icon"||e!="none")&&r!="sc_content"){s+=" "+r+'="'+e+'"'}if(r=="sc_content"){l=e}}});s+="]";if(t){l=l.replace(/</g,"&lt;");l=l.replace(/>/g,"&gt;");l=l.replace(/(\r\n|\n|\r)/gm,"<br>");if((p||m)&&l){s+="<br>"+l+"</br />"}else{s+=l}s+="[/"+n+"]"}}}}if(p){s+="<br>[/raw]"}k.attr("data-type",n).html(s)},tooltip_on:function(f){var d=f.closest(".tooltip-wrap"),c=f.data("tooltip-text"),e='<div class="tooltip top"> 							   <div class="tooltip-inner"> 							     text 							   </div> 							   <div class="tooltip-arrow"></div> 							 </div>';e=e.replace("text",c);d.append(e);var g=d.find(".tooltip");g.css({top:"-"+g.height()+"px",left:"50%","margin-left":"-"+g.width()/2+"px"}).addClass("fade in")},tooltip_off:function(c){c.closest(".tooltip-wrap").find(".tooltip").remove()}};a(".tb-insert-shortcode").on("click",function(){a("#tb-shortcode-generator").show();return false});a("#tb-shortcode-generator .media-modal-close, #tb-shortcode-generator .media-modal-backdrop").on("click",function(){a("#tb-shortcode-generator").hide();return false});a("#tb-shortcode-generator").themeblvd("init");a("#tb-shortcode-generator").themeblvd("options","bind");a("#tb-shortcode-generator").themeblvd("options","setup");a("#tb-shortcode-generator .media-menu-item").on("click",function(){var e=a(this),h=e.data("id"),d=e.text().trim(),c=true,f=e.closest("#tb-shortcode-generator"),g="";f.find(".media-menu-item").removeClass("active");e.addClass("active");f.find(".media-frame-title h1").text(d);f.find(".media-frame").addClass("hide-router");f.find(".media-frame-router").each(function(){var i=a(this);if(i.data("group")==h){i.show();c=false}else{i.hide()}});if(!c){f.find(".media-frame").removeClass("hide-router")}f.find(".tb-group").removeClass("tb-group-show").addClass("tb-group-hide");f.find("#tb-group-"+h).addClass("tb-group-show").removeClass("tb-group-hide");f.find("#tb-group-"+h+" .shortcode-options").each(function(){if(!a(this).hasClass("hide")){g=a(this).data("type")}});a("#tb-shortcode-to-editor").data("insert",g);return false});a("#tb-shortcode-generator .media-frame-router").hide().closest(".media-frame").addClass("hide-router");a("#tb-shortcode-generator .tb-tab-menu-item").on("click",function(){var d=a(this),e=d.closest(".media-frame-router").data("group"),c=d.data("sub-group");modal=d.closest("#tb-shortcode-generator");d.closest(".media-frame-router").find(".tb-tab-menu-item").removeClass("active");d.addClass("active");modal.find("#tb-group-"+e+" .shortcode-options").hide().addClass("hide");modal.find("#tb-group-"+e+" .shortcode-options-"+c).removeClass("hide").show();a("#tb-shortcode-to-editor").data("insert",c);return false});a("#tb-shortcode-generator .of-input").on("change propertychange keyup input paste",function(){b.preview(a(this).closest(".shortcode-options"))});a("#tb-shortcode-generator .of-radio-img-img").on("click",function(){b.preview(a(this).closest(".shortcode-options"))});a("#tb-shortcode-generator .shortcode-options-column select").on("change",function(){b.preview(a(this).closest(".shortcode-options"))});a("#tb-shortcode-generator .icon-browser-content").hide();a("#tb-shortcode-generator .icon-browser-title a").on("click",function(){var c=a(this).closest(".icon-browser").find(".icon-browser-content");if(c.hasClass("open")){a(this).find(".fa").removeClass("fa-rotate-180");c.hide().removeClass("open")}else{a(this).find(".fa").addClass("fa-rotate-180");c.show().addClass("open")}return false});a("#tb-shortcode-generator .icon-browser .select-icon").on("mouseenter",function(){b.tooltip_on(a(this))});a("#tb-shortcode-generator .icon-browser .select-icon").on("mouseleave",function(){b.tooltip_off(a(this))});a("#tb-shortcode-generator .icon-browser .select-icon").on("click",function(){a(this).closest(".icon-browser").find(".select-icon").removeClass("selected");a(this).addClass("selected");a('#tb-shortcode-generator input[name="vector_icon[icon]"]').val(a(this).data("id"));b.preview(a(this).closest(".shortcode-options"));return false});a("#tb-shortcode-generator .color-browser .select-color").on("click",function(){a(this).closest(".color-browser").find(".select-color-wrap").removeClass("selected");a(this).closest(".select-color-wrap").addClass("selected");a('#tb-shortcode-generator input[name="button[color]"]').val(a(this).data("color"));b.preview(a(this).closest(".shortcode-options"));return false});a("#tb-shortcode-generator .color-browser .select-color").on("mouseenter",function(){b.tooltip_on(a(this))});a("#tb-shortcode-generator .color-browser .select-color").on("mouseleave",function(){b.tooltip_off(a(this))});a("#tb-shortcode-generator .columns").each(function(){a(this).find(".column-num option:first-child").remove();a(this).find(".column-width-1").remove()});a("#tb-shortcode-to-editor").on("click",function(){var e=a(this).closest("#tb-shortcode-generator"),c=a(this).data("insert"),d=e.find(".shortcode-preview-"+c).html(),f=true;if(a("#wp-content-wrap").hasClass("tmce-active")){f=false}d=d.replace(/<hr>/gi,"");if(f){d=d.replace(/<br>/gi,"\n")}window.send_to_editor(d);e.hide();return false})});