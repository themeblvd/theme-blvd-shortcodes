jQuery(document).ready(function(a){var c={};if("undefined"!==typeof window.themeblvd){if("undefined"!==typeof window.themeblvd.options){if("undefined"!==typeof window.themeblvd.options.columnWidths){c=window.themeblvd.options.columnWidths}}}var b={preview:function(f){var d=f.data("type"),u="",n=f.find(".shortcode-preview"),q="",v=n.data("content"),m=n.data("raw"),p=n.data("clean"),k=0,e="",w="",g=false,o=false,r=false;if(m){u+="[raw]<br>"}if(d=="tabs"){var h=f.find('select[name="tabs[num]"]').val(),t=f.find('select[name="tabs[style]"]').val(),j=f.find('select[name="tabs[nav]"]').val();u+='[tabs style="'+t+'" nav="'+j+'"';for(var s=1;s<=h;s++){u+=" tab_"+s+'="Title #'+s+'"'}u+="]<br>";for(var s=1;s<=h;s++){u+="[tab_"+s+"]Tab "+s+"...[/tab_"+s+"]<br>"}u+="[/tabs]"}else{if(d=="accordion"){var h=f.find('select[name="accordion[num]"]').val();u+="[accordion]<br>";for(var s=1;s<=h;s++){u+='[toggle title="Toggle #'+s+'"]Content of toggle #'+s+".[/toggle]<br>"}u+="[/accordion]"}else{u+="["+d;f.find(".of-input, .of-radio-img-radio, .tb-color-picker").each(function(){if(a(this).hasClass("of-radio-img-radio")&&!a(this).prop("checked")){return}e=a(this).attr("id");w=a(this).val();if(e=="custom_include_bg"||e=="custom_include_border"){return}if(e=="excerpt-option"){e="excerpt"}if(d=="button"&&e=="color"&&w=="custom"){g=true}if(d=="divider"&&e=="style"&&w=="shadow"){o=true}if(o&&e!="style"&&e!="width"){return}if(d=="divider"&&e=="icon"&&w){r=true}if(d=="divider"&&!r&&(e=="icon_color"||e=="icon_size")){return}if(a(this).hasClass("of-radio-img-radio")){e=e.replace(new RegExp("_"+w,"g"),"")}if(w&&w!=="0"){if(e!="sc_content"){u+=" "+e+'="'+w+'"'}if(e=="sc_content"){q=w}}if(e!="sc_content"){k++}});if(g){var l={};f.find(".section-button").find("input.color-picker, .checkbox").each(function(){var i=a(this);e=i.attr("id");e=e.replace("custom_","");if(i.hasClass("checkbox")){if(i.prop("checked")){w="true"}else{w="false"}}else{w=i.val()}l[e]=w});for(var e in l){if(l.hasOwnProperty(e)){if(e=="bg"||e=="border"){if(e=="bg"&&l.include_bg=="true"){u+=" "+e+'="'+l[e]+'"'}else{if(e=="border"&&l.include_border=="true"){u+=" "+e+'="'+l[e]+'"'}}}else{u+=" "+e+'="'+l[e]+'"'}}}}u+="]";if(v){q=q.replace(/</g,"&lt;");q=q.replace(/>/g,"&gt;");q=q.replace(/(\r\n|\n|\r)/gm,"<br>");if((m||p)&&q){u+="<br>"+q+"<br>"}else{u+=q}u+="[/"+d+"]"}}}if(m){u+="<br>[/raw]"}n.attr("data-type",d).html(u)},preview_columns:function(j){var f=j.find(".shortcode-preview"),l="[raw]<br>",k=false;if(j.find("#section-wpautop input").is(":checked")){k=true}if(a.isEmptyObject(c)){var h=j.find(".column-num").val(),e=j.find(".column-width-"+h).val(),e=e.split("-"),d="",m;for(var g=0;g<h;g++){d="";switch(e[g]){case"grid_3":m="1/4";break;case"grid_4":m="1/3";break;case"grid_6":m="1/2";break;case"grid_8":m="2/3";break;case"grid_9":m="3/4";break;case"grid_fifth_1":m="1/5";break;case"grid_fifth_2":m="2/5";break;case"grid_fifth_3":m="3/5";break;case"grid_fifth_4":m="4/5";break;case"grid_tenth_3":m="3/10";break;case"grid_tenth_7":m="7/10";break}d+='[column size="'+m+'"';if(k){d+=' wpautop="true"'}if(g==h-1){d+=" last"}d+="]<br>";d+="Column "+(g+1)+"...<br>";d+="[/column]";if(g<h-1){d+="<br>"}l+=d}}else{var e=j.find(".column-width-input").val(),e=e.split("-");for(var g=0;g<e.length;g++){l+='[column size="'+e[g]+'"';if(k){l+=' wpautop="true"'}l+="]<br>";l+="Column "+(g+1)+"...<br>";l+="[/column]";if(g<e.length-1){l+="<br>"}}}l+="<br>[/raw]";f.html(l)},columns_wpauto:function(){var e=a(this),f=a(this).closest(".shortcode-options").find(".shortcode-preview"),d=f.html();d=d.replace(/ wpautop="true"/g,"");if(e.is(":checked")){d=d.replace(/"]/g,'" wpautop="true"]');d=d.replace(/last]/g,' wpautop="true" last]')}f.html(d)},tooltip_on:function(g){var e=g.closest(".tooltip-wrap"),d=g.data("tooltip-text"),f='<div class="tooltip top"> 							   <div class="tooltip-inner"> 							     text 							   </div> 							   <div class="tooltip-arrow"></div> 							 </div>';f=f.replace("text",d);e.append(f);var h=e.find(".tooltip");h.css({top:"-"+h.height()+"px",left:"50%","margin-left":"-"+h.width()/2+"px"}).addClass("fade in")},tooltip_off:function(d){d.closest(".tooltip-wrap").find(".tooltip").remove()}};a(".tb-insert-shortcode").on("click",function(){a("#tb-shortcode-generator").show();a("body").addClass("themeblvd-stop-scroll themeblvd-shortcode-generator-on");return false});a("#tb-shortcode-generator .media-modal-close, #tb-shortcode-generator .media-modal-backdrop").on("click",function(){a("#tb-shortcode-generator").hide();a("body").removeClass("themeblvd-stop-scroll themeblvd-shortcode-generator-on");return false});a("#tb-shortcode-generator").themeblvd("init");a("#tb-shortcode-generator").themeblvd("options","bind");a("#tb-shortcode-generator").themeblvd("options","setup");a("#tb-shortcode-generator").themeblvd("options","column-widths");a("#tb-shortcode-generator .media-menu-item").on("click",function(){var f=a(this),i=f.data("id"),e=f.text().trim(),d=true,g=f.closest("#tb-shortcode-generator"),h="";g.find(".media-menu-item").removeClass("active");f.addClass("active");g.find(".media-frame-title h1").text(e);g.find(".media-frame").addClass("hide-router");g.find(".media-frame-router").each(function(){var j=a(this);if(j.data("group")==i){j.show();d=false}else{j.hide()}});if(!d){g.find(".media-frame").removeClass("hide-router")}g.find(".tb-group").removeClass("tb-group-show").addClass("tb-group-hide");g.find("#tb-group-"+i).addClass("tb-group-show").removeClass("tb-group-hide");g.find("#tb-group-"+i+" .shortcode-options").each(function(){if(!a(this).hasClass("hide")){h=a(this).data("type")}});a("#tb-shortcode-to-editor").data("insert",h);return false});a("#tb-shortcode-generator .media-frame-router").hide().closest(".media-frame").addClass("hide-router");a("#tb-shortcode-generator .tb-tab-menu-item").on("click",function(){var e=a(this),f=e.closest(".media-frame-router").data("group"),d=e.data("sub-group");modal=e.closest("#tb-shortcode-generator");e.closest(".media-frame-router").find(".tb-tab-menu-item").removeClass("active");e.addClass("active");modal.find("#tb-group-"+f+" .shortcode-options").hide().addClass("hide");modal.find("#tb-group-"+f+" .shortcode-options-"+d).removeClass("hide").show();a("#tb-shortcode-to-editor").data("insert",d);return false});a("#tb-shortcode-generator .of-input").on("change.generator propertychange.generator keyup.generator input.generator paste.generator",function(){b.preview(a(this).closest(".shortcode-options"))});a("#tb-shortcode-generator .of-radio-img-img").on("click.generator",function(){b.preview(a(this).closest(".shortcode-options"))});a("#tb-shortcode-generator .shortcode-options-column select").on("change.generator",function(){b.preview(a(this).closest(".shortcode-options"))});a("#tb-shortcode-generator #wpautop").off("change.generator");a("#tb-shortcode-generator .shortcode-options-column .section-columns select").off("change.generator");if(a.isFunction(a.fn.wpColorPicker)){a("#tb-shortcode-generator .color-picker, #tb-shortcode-generator .tb-color-picker").wpColorPicker({change:function(){b.preview(a(this).closest(".shortcode-options"))},clear:function(){b.preview(a(this).closest(".shortcode-options"))}});a("#tb-shortcode-generator .wp-color-result").on("click",function(){b.preview(a(this).closest(".shortcode-options"))})}a("#tb-shortcode-generator .icon-browser-content").hide();a("#tb-shortcode-generator .icon-browser-title a").on("click",function(){var d=a(this).closest(".icon-browser").find(".icon-browser-content");if(d.hasClass("open")){a(this).find(".fa").removeClass("fa-rotate-180");d.hide().removeClass("open")}else{a(this).find(".fa").addClass("fa-rotate-180");d.show().addClass("open")}return false});a("#tb-shortcode-generator .icon-browser .select-icon").on("mouseenter",function(){b.tooltip_on(a(this))});a("#tb-shortcode-generator .icon-browser .select-icon").on("mouseleave",function(){b.tooltip_off(a(this))});a("#tb-shortcode-generator .icon-browser .select-icon").on("click",function(){a(this).closest(".icon-browser").find(".select-icon").removeClass("selected");a(this).addClass("selected");a('#tb-shortcode-generator input[name="vector_icon[icon]"]').val(a(this).data("id"));b.preview(a(this).closest(".shortcode-options"));return false});a("#themeblvd-icon-browser-vector .media-button-insert").on("themeblvd-modal-insert",function(g,e){var f=e.$modalWindow.find(".icon-selection").val(),d=a(e.$element);d.closest(".input-wrap").find("input").val(f);b.preview(d.closest(".shortcode-options"))});a("#tb-shortcode-generator .color-browser .select-color").on("click",function(){var d=a(this);d.closest(".color-browser").find(".select-color-wrap").removeClass("selected");d.closest(".select-color-wrap").addClass("selected");a('#tb-shortcode-generator input[name="button[color]"]').val(d.data("color"));if(d.data("color")=="custom"){d.closest(".options-wrap").find(".section-button").show()}else{d.closest(".options-wrap").find(".section-button").hide()}b.preview(d.closest(".shortcode-options"));return false});a("#tb-shortcode-generator .color-browser .select-color").on("mouseenter",function(){b.tooltip_on(a(this))});a("#tb-shortcode-generator .color-browser .select-color").on("mouseleave",function(){b.tooltip_off(a(this))});if(a.isEmptyObject(c)){a("#tb-shortcode-generator").find(".column-num, .column-width").on("change",function(){b.preview_columns(a(this).closest(".shortcode-options"))});a("#tb-shortcode-generator .columns").each(function(){a(this).find(".column-num option:first-child").remove();a(this).find(".column-width-1").remove()})}else{a("#tb-shortcode-generator .column-width-input").on("themeblvd-update-columns",function(){b.preview_columns(a(this).closest(".shortcode-options"))})}a("#tb-shortcode-generator #wpautop").on("change",b.columns_wpauto);a("#tb-shortcode-to-editor").on("click",function(){var d=a(this).closest("#tb-shortcode-generator"),e=a(this).data("insert"),f=d.find(".shortcode-preview-"+e).html(),g=true;if(a("#wp-content-wrap").hasClass("tmce-active")){g=false}f=f.replace(/<hr>/gi,"");if(e=="icon_list"){f=a("<div/>").html(f).text();f=f.replace(/<ul>/gi,"\n<ul>\n");f=f.replace(/<\/li>/gi,"</li>\n");f=f.replace(/<\/ul>/gi,"</ul>\n")}if(g){f=f.replace(/<br>/gi,"\n")}window.send_to_editor(f);a("body").removeClass("themeblvd-stop-scroll themeblvd-shortcode-generator-on");d.hide();return false})});